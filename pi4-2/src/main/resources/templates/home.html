<!DOCTYPE html>
<html lang="pt"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorate="~{layout}">

<head>
	<meta charset="UTF-8" />
	<title>Feed de Aulas</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
<section class="layout-content" layout:fragment="corpo">

	<nav class="navbar navbar-expand-md bg-light">
		<div class="collapse navbar-collapse" id="navbarsExampleDefault">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item active">
					<i class="oi oi-caret-right"></i>
					<span>Home</span>
				</li>
			</ul>
		</div>
	</nav>

	<div class="container mt-4">
		<h1 class="mb-4">Feed de Aulas</h1>
		<div id="feed-aulas" class="row">
			<!-- Estrutura para as aulas (gerado dinamicamente pelo Thymeleaf ou outro framework) -->
			<div class="col-12 mb-4" th:each="aula : ${aulas}">
				<div class="card">
					<div class="card-header">
						<h5 th:text="${aula.professor.nome} + ' - Aula ID: ' + ${aula.id}"></h5>
					</div>
					<div class="card-body">
						<p><strong>Avaliação da aula:</strong> <span th:text="${aula.avaliacaoDaAula}">4.5</span>/5</p>
						<h6>Comentários:</h6>
						<ul class="list-group mb-3">
							<li class="list-group-item" th:each="comentario : ${aula.comentarioAulas}">
								<strong th:text="${comentario.aluno.nome}">Aluno</strong>:
								<span th:text="${comentario.comentario}">Comentário aqui...</span>
								<div>
									<small><strong>Avaliação:</strong> <span th:text="${comentario.avaliacao}">5</span>/5</small>
								</div>
							</li>
						</ul>
						<h6>Adicionar Comentário:</h6>
						<form method="post" th:action="@{/aulas/{id}/comentarios(id=${aula.id})}">
							<div class="mb-3">
								<textarea class="form-control" name="comentario" rows="3" placeholder="Escreva seu comentário..."></textarea>
							</div>
							<div class="mb-3">
								<label for="avaliacao" class="form-label">Avaliação:</label>
								<select class="form-select" name="avaliacao">
									<option th:each="i : ${#numbers.sequence(1, 5)}" th:value="${i}" th:text="${i}">1</option>
								</select>
							</div>
							<button type="submit" class="btn btn-primary">Enviar</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
</body>
</html>
